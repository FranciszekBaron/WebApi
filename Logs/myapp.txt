2023-01-07 19:22:47.566 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 19:22:47.586 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 19:22:47.600 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 19:22:47.606 +01:00 [Information] Hosting environment: "Development"
2023-01-07 19:22:47.610 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 19:22:48.500 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 19:22:49.141 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 647.1822ms
2023-01-07 19:22:49.183 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 19:22:49.196 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 10.2729ms
2023-01-07 19:22:49.210 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 19:22:49.337 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 121.9551ms
2023-01-07 19:22:49.547 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 19:22:49.708 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.7224ms
2023-01-07 19:22:57.885 +01:00 [Information] Request starting HTTP/2 PUT https://localhost:7206/api/Member/3 application/json 114
2023-01-07 19:22:57.898 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.Edit (WebApplication1)"'
2023-01-07 19:22:57.934 +01:00 [Information] Route matched with "{action = \"Edit\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32, WebApplication1.Models.DTO_s.MemberPut)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 19:23:02.635 +01:00 [Information] Executed DbCommand ("223"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[memberID], [m].[memberName], [m].[memberNickname], [m].[memberSurname], [m].[oID]
FROM [Member] AS [m]
WHERE [m].[memberID] = @__id_0"
2023-01-07 19:23:02.689 +01:00 [Information] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2023-01-07 19:23:02.712 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.Edit (WebApplication1)" in 4772.9204ms
2023-01-07 19:23:02.713 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.Edit (WebApplication1)"'
2023-01-07 19:23:02.729 +01:00 [Information] Request finished HTTP/2 PUT https://localhost:7206/api/Member/3 application/json 114 - 400 - application/problem+json;+charset=utf-8 4843.7060ms
2023-01-07 19:23:14.261 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member application/json 114
2023-01-07 19:23:14.262 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.Add (WebApplication1)"'
2023-01-07 19:23:14.266 +01:00 [Information] Route matched with "{action = \"Add\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(WebApplication1.Models.DTO_s.MemberPut)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 19:23:14.371 +01:00 [Information] Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [o].[oID], [o].[oDomain], [o].[oName]
FROM [Organization] AS [o]
WHERE [o].[oID] = @__id_0"
2023-01-07 19:23:14.553 +01:00 [Information] Executed DbCommand ("60"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Member] ([memberName], [memberNickname], [memberSurname], [oID])
OUTPUT INSERTED.[memberID]
VALUES (@p0, @p1, @p2, @p3);"
2023-01-07 19:23:14.638 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Member_Organization_oID\". The conflict occurred in database \"s20781\", table \"dbo.Organization\", column 'oID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6aa127fa-4fc5-4244-b763-898e95db09a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Member_Organization_oID". The conflict occurred in database "s20781", table "dbo.Organization", column 'oID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6aa127fa-4fc5-4244-b763-898e95db09a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-07 19:23:14.754 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.Add (WebApplication1)" in 487.6449ms
2023-01-07 19:23:14.754 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.Add (WebApplication1)"'
2023-01-07 19:23:14.853 +01:00 [Error] This error ocurred while program was trying to make the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Member_Organization_oID". The conflict occurred in database "s20781", table "dbo.Organization", column 'oID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6aa127fa-4fc5-4244-b763-898e95db09a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 72
   at WebApplication1.Controllers.MemberController.Add(MemberPut body) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 19:23:14.928 +01:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Member_Organization_oID". The conflict occurred in database "s20781", table "dbo.Organization", column 'oID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6aa127fa-4fc5-4244-b763-898e95db09a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 72
   at WebApplication1.Controllers.MemberController.Add(MemberPut body) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 19:23:14.932 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member application/json 114 - 500 - text/plain;+charset=utf-8 671.4217ms
2023-01-07 19:43:56.765 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 19:43:56.783 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 19:43:56.798 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 19:43:56.804 +01:00 [Information] Hosting environment: "Development"
2023-01-07 19:43:56.808 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 19:43:57.515 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 19:43:58.435 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 922.9617ms
2023-01-07 19:43:58.544 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 19:43:58.544 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 19:43:58.550 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.5014ms
2023-01-07 19:43:58.705 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 161.3360ms
2023-01-07 19:43:58.825 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 19:43:59.059 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.9294ms
2023-01-07 19:44:32.690 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/4/1 - 0
2023-01-07 19:44:32.711 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addToTeam (WebApplication1)"'
2023-01-07 19:44:32.744 +01:00 [Information] Route matched with "{action = \"addToTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addToTeam(Int32, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 19:44:37.013 +01:00 [Error] Failed executing DbCommand ("137"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Membership] ([memberID], [teamID], [MembershipDate])
VALUES (@p0, @p1, @p2);"
2023-01-07 19:44:37.079 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (4, 1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c239dac6-f508-44fe-aa95-0839e60d405e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (4, 1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c239dac6-f508-44fe-aa95-0839e60d405e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-07 19:44:37.176 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addToTeam (WebApplication1)" in 4427.3084ms
2023-01-07 19:44:37.177 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addToTeam (WebApplication1)"'
2023-01-07 19:44:37.263 +01:00 [Error] This error ocurred while program was trying to make the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (4, 1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c239dac6-f508-44fe-aa95-0839e60d405e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 72
   at WebApplication1.Controllers.MemberController.addToTeam(Int32 memberID, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 19:44:37.338 +01:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (4, 1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c239dac6-f508-44fe-aa95-0839e60d405e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 72
   at WebApplication1.Controllers.MemberController.addToTeam(Int32 memberID, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 19:44:37.364 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/4/1 - 0 - 500 - text/plain;+charset=utf-8 4674.6148ms
2023-01-07 19:45:02.505 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/5/1 - 0
2023-01-07 19:45:02.518 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addToTeam (WebApplication1)"'
2023-01-07 19:45:02.519 +01:00 [Information] Route matched with "{action = \"addToTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addToTeam(Int32, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 19:45:02.633 +01:00 [Information] Executed DbCommand ("65"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Membership] ([memberID], [teamID], [MembershipDate])
VALUES (@p0, @p1, @p2);"
2023-01-07 19:45:02.661 +01:00 [Information] Executing "OkObjectResult", writing value of type '"System.String"'.
2023-01-07 19:45:02.662 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addToTeam (WebApplication1)" in 143.5997ms
2023-01-07 19:45:02.662 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addToTeam (WebApplication1)"'
2023-01-07 19:45:02.663 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/5/1 - 0 - 200 - text/plain;+charset=utf-8 158.0899ms
2023-01-07 21:24:10.744 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:24:10.754 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:24:10.762 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:24:10.766 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:24:10.767 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:24:11.400 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:24:11.998 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 603.0795ms
2023-01-07 21:24:12.050 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:24:12.073 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 23.6308ms
2023-01-07 21:24:12.073 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:24:12.132 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.7968ms
2023-01-07 21:24:12.270 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:24:12.421 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.2633ms
2023-01-07 21:24:35.122 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 119
2023-01-07 21:24:35.145 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:24:35.183 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:24:37.232 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:24:37.462 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-07 21:24:37.553 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2364.7801ms
2023-01-07 21:24:37.554 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:24:37.583 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 84
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 118
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:24:37.620 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 84
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 118
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:24:37.653 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:24:37.661 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 119 - 500 - text/plain;+charset=utf-8 2539.3079ms
2023-01-07 21:26:33.299 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:26:33.309 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:26:33.320 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:26:33.324 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:26:33.326 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:26:33.902 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:26:34.577 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 676.8929ms
2023-01-07 21:26:34.631 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:26:34.631 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:26:34.648 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 16.5856ms
2023-01-07 21:26:34.722 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.8845ms
2023-01-07 21:26:34.853 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:26:35.080 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.5059ms
2023-01-07 21:26:45.716 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:26:45.728 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:26:45.760 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:26:47.716 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:26:47.947 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-07 21:26:48.041 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2269.6832ms
2023-01-07 21:26:48.042 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:26:48.073 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 84
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 119
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:26:48.102 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 84
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 119
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:26:48.122 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:26:48.129 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2413.1003ms
2023-01-07 21:27:35.351 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:27:35.371 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:27:35.402 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:27:35.443 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:27:35.446 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:27:36.628 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:27:37.506 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 883.6104ms
2023-01-07 21:27:37.557 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:27:37.564 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 7.5428ms
2023-01-07 21:27:37.573 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:27:37.683 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 109.7828ms
2023-01-07 21:27:37.868 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:27:38.088 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.5565ms
2023-01-07 21:27:56.612 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:27:56.623 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:27:56.634 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:27:56.639 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:27:56.642 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:27:57.415 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:27:58.416 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 1009.5896ms
2023-01-07 21:27:58.465 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:27:58.466 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:27:58.472 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.1759ms
2023-01-07 21:27:58.581 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 115.9617ms
2023-01-07 21:27:58.682 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:27:58.854 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.9440ms
2023-01-07 21:28:13.844 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:28:13.854 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:28:13.888 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:28:15.707 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:28:15.772 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 1878.8219ms
2023-01-07 21:28:15.773 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:28:15.830 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:28:15.864 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:28:15.885 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:28:15.890 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2045.7658ms
2023-01-07 21:33:57.749 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:33:57.771 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:33:57.798 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:33:57.807 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:33:57.811 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:33:58.472 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:33:59.326 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 858.8906ms
2023-01-07 21:33:59.374 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:33:59.379 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:33:59.383 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 8.5891ms
2023-01-07 21:33:59.505 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 126.2826ms
2023-01-07 21:33:59.629 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:33:59.888 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 257.3992ms
2023-01-07 21:34:12.022 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:34:12.036 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:34:12.074 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:34:14.129 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-07 21:34:14.243 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2164.3314ms
2023-01-07 21:34:14.244 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:34:14.274 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 84
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 118
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:34:14.306 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 84
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 118
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:34:14.333 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2311.5563ms
2023-01-07 21:34:14.342 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:34:43.121 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:34:43.138 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:34:43.150 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:34:43.153 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:34:43.155 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:34:44.361 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:34:45.179 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 830.4706ms
2023-01-07 21:34:45.214 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:34:45.224 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 10.4153ms
2023-01-07 21:34:45.230 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:34:45.297 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.0275ms
2023-01-07 21:34:45.415 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:34:45.550 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.0773ms
2023-01-07 21:34:58.384 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:34:58.409 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:34:58.591 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:35:01.876 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:35:01.958 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 3360.8697ms
2023-01-07 21:35:01.959 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:35:02.015 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:35:02.051 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:35:02.089 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:35:02.101 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 3717.7443ms
2023-01-07 21:36:14.911 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:36:14.926 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:36:14.945 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:36:14.966 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:36:14.969 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:36:15.816 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:36:16.646 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 840.3753ms
2023-01-07 21:36:16.686 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:36:16.693 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:36:16.697 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 11.7037ms
2023-01-07 21:36:16.810 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 116.6431ms
2023-01-07 21:36:16.927 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:36:17.087 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.0039ms
2023-01-07 21:36:23.125 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:36:23.144 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:36:23.261 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:36:25.538 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:36:25.615 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2347.5681ms
2023-01-07 21:36:25.616 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:36:25.659 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:36:25.691 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:36:25.744 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:36:25.752 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2627.0070ms
2023-01-07 21:36:48.327 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:36:48.385 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:36:48.403 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:36:48.433 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:36:48.449 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:36:49.086 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:36:49.948 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 867.7294ms
2023-01-07 21:36:50.020 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:36:50.023 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:36:50.035 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.9366ms
2023-01-07 21:36:50.215 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 194.7675ms
2023-01-07 21:36:50.349 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:36:50.541 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.0956ms
2023-01-07 21:37:14.897 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:37:14.935 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:37:14.977 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:37:16.938 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:37:17.051 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2068.6405ms
2023-01-07 21:37:17.056 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:37:17.142 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:37:17.178 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:37:17.211 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:37:17.229 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2331.8791ms
2023-01-07 21:46:41.499 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-07 21:46:41.519 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-07 21:46:41.538 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-07 21:46:41.544 +01:00 [Information] Hosting environment: "Development"
2023-01-07 21:46:41.552 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-07 21:46:42.415 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-07 21:46:43.162 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 765.1438ms
2023-01-07 21:46:43.223 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-07 21:46:43.223 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 21:46:43.230 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.4826ms
2023-01-07 21:46:43.326 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 102.7414ms
2023-01-07 21:46:43.468 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-07 21:46:43.674 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.2283ms
2023-01-07 21:46:55.925 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-07 21:46:55.938 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:46:55.983 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-07 21:46:58.192 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:46:58.274 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2286.2278ms
2023-01-07 21:46:58.275 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-07 21:46:58.318 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-07 21:46:58.349 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-07 21:46:58.393 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-07 21:46:58.400 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2475.1030ms
2023-01-08 03:45:51.036 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 03:45:51.047 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 03:45:51.057 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 03:45:51.061 +01:00 [Information] Hosting environment: "Development"
2023-01-08 03:45:51.064 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 03:45:51.952 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 03:45:52.540 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 594.8314ms
2023-01-08 03:45:52.617 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 03:45:52.618 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 03:45:52.623 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.7713ms
2023-01-08 03:45:52.708 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.8154ms
2023-01-08 03:45:52.807 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 03:45:52.951 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.5273ms
2023-01-08 03:46:06.187 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 03:46:06.200 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 03:46:06.237 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 03:46:08.295 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2052.4852ms
2023-01-08 03:46:08.296 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 03:46:08.319 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 03:46:08.357 +01:00 [Error] This error ocurred while program was trying to make the request
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'OrganDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_Database()
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 03:46:08.387 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'OrganDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_Database()
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 03:46:08.390 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2203.0741ms
2023-01-08 03:59:56.567 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 03:59:56.584 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 03:59:56.600 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 03:59:56.606 +01:00 [Information] Hosting environment: "Development"
2023-01-08 03:59:56.613 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 03:59:57.620 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 03:59:58.276 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 659.3459ms
2023-01-08 03:59:58.380 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 03:59:58.381 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 03:59:58.386 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.8898ms
2023-01-08 03:59:58.463 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.8096ms
2023-01-08 03:59:58.571 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 03:59:58.749 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.1688ms
2023-01-08 04:00:13.800 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 04:00:13.810 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:00:13.845 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 04:00:15.718 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 04:00:15.842 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 04:00:15.874 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2024.4312ms
2023-01-08 04:00:15.875 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:00:15.915 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 89
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 123
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 130
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 04:00:15.950 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.RollbackTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.RollbackTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.RollbackTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 89
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 123
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 130
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 04:00:15.953 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2152.2612ms
2023-01-08 04:02:27.095 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 04:02:27.115 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 04:02:27.132 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 04:02:27.138 +01:00 [Information] Hosting environment: "Development"
2023-01-08 04:02:27.143 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 04:02:27.891 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 04:02:28.711 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 828.0850ms
2023-01-08 04:02:28.780 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 04:02:28.780 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 04:02:28.786 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 5.9625ms
2023-01-08 04:02:28.887 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 106.2609ms
2023-01-08 04:02:29.004 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 04:02:29.242 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 237.9231ms
2023-01-08 04:02:32.426 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/api/Member - -
2023-01-08 04:02:32.436 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.Get (WebApplication1)"'
2023-01-08 04:02:32.468 +01:00 [Information] Route matched with "{action = \"Get\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get()" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 04:02:34.503 +01:00 [Information] Executed DbCommand ("72"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[memberID], [m].[memberName], [m].[memberNickname], [m].[memberSurname], [m].[oID]
FROM [Member] AS [m]"
2023-01-08 04:02:34.565 +01:00 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[WebApplication1.Models.Member, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[WebApplication1.Models.DTO_s.MemberGet, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2023-01-08 04:02:34.582 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.Get (WebApplication1)" in 2108.8076ms
2023-01-08 04:02:34.583 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.Get (WebApplication1)"'
2023-01-08 04:02:34.597 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/api/Member - - - 200 - application/json;+charset=utf-8 2171.1728ms
2023-01-08 04:06:01.791 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 04:06:01.798 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:06:01.810 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 04:06:02.216 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 406.1168ms
2023-01-08 04:06:02.217 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:06:02.245 +01:00 [Information] Executed DbCommand ("147"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [o].[oID], [o].[oDomain], [o].[oName]
FROM [Organization] AS [o]
WHERE [o].[oID] = @__id_0"
2023-01-08 04:06:02.292 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalConnection.BeginSqlTransaction(IsolationLevel iso, String transactionName, Boolean shouldReconnect)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at System.Data.Common.DbConnection.BeginDbTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 04:06:02.332 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalConnection.BeginSqlTransaction(IsolationLevel iso, String transactionName, Boolean shouldReconnect)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at System.Data.Common.DbConnection.BeginDbTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 04:06:02.339 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 548.3284ms
2023-01-08 04:25:11.512 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 04:25:11.525 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 04:25:11.538 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 04:25:11.541 +01:00 [Information] Hosting environment: "Development"
2023-01-08 04:25:11.543 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 04:25:12.493 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 04:25:13.366 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 881.3478ms
2023-01-08 04:25:13.415 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 04:25:13.424 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 04:25:13.424 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 10.4451ms
2023-01-08 04:25:13.493 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.1859ms
2023-01-08 04:25:13.649 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 04:25:13.824 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.5502ms
2023-01-08 04:25:24.100 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 04:25:24.113 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:25:24.153 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 04:25:25.964 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 04:25:26.025 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 1866.2994ms
2023-01-08 04:25:26.026 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:25:26.079 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 04:25:26.111 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 74
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 04:25:26.131 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 04:25:26.137 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2037.5001ms
2023-01-08 04:27:37.873 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 04:27:37.884 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 04:27:37.896 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 04:27:37.901 +01:00 [Information] Hosting environment: "Development"
2023-01-08 04:27:37.903 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 04:27:38.743 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 04:27:39.395 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 656.0230ms
2023-01-08 04:27:39.440 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 04:27:39.450 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 04:27:39.453 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 12.3576ms
2023-01-08 04:27:39.525 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.7413ms
2023-01-08 04:27:39.651 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 04:27:39.791 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.1300ms
2023-01-08 04:27:48.825 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 04:27:48.839 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:27:48.871 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 04:27:50.749 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 04:27:50.833 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 1956.7657ms
2023-01-08 04:27:50.835 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 04:27:50.877 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 75
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 04:27:50.908 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection was not closed. The connection's current state is connecting.
   at Microsoft.Data.ProviderBase.DbConnectionClosedConnecting.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.BeginTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 75
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 04:27:50.929 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 04:27:50.936 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2110.8423ms
2023-01-08 17:10:16.193 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:10:16.209 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:10:16.228 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:10:16.235 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:10:16.254 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:10:17.095 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:10:17.836 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 745.2853ms
2023-01-08 17:10:17.908 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:10:17.908 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:10:17.913 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 4.5808ms
2023-01-08 17:10:18.027 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 118.2396ms
2023-01-08 17:10:18.122 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:10:18.275 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.7147ms
2023-01-08 17:10:29.040 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:10:29.054 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:10:29.090 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:10:31.172 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:10:31.259 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2163.3542ms
2023-01-08 17:10:31.260 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:10:31.286 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 95
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:10:31.314 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 95
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:10:31.337 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2297.2236ms
2023-01-08 17:10:31.350 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 17:12:47.868 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:12:47.888 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:12:47.909 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:12:47.929 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:12:47.932 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:12:48.684 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:12:49.707 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 1028.2293ms
2023-01-08 17:12:49.783 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:12:49.783 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:12:49.801 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 9.9923ms
2023-01-08 17:12:49.913 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 129.8865ms
2023-01-08 17:12:50.085 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:12:50.325 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 239.7603ms
2023-01-08 17:13:02.456 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:13:02.470 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:13:02.514 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:13:04.521 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:13:04.584 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2062.1772ms
2023-01-08 17:13:04.585 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:13:04.618 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 95
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:13:04.649 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 95
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:13:04.674 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2217.5575ms
2023-01-08 17:13:04.685 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 17:22:22.310 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:22:22.328 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:22:22.344 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:22:22.349 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:22:22.352 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:22:23.421 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:22:24.467 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 1051.2185ms
2023-01-08 17:22:24.598 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:22:24.598 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:22:24.611 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 12.5980ms
2023-01-08 17:22:24.826 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 225.5265ms
2023-01-08 17:22:24.967 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:22:25.253 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 286.2354ms
2023-01-08 17:22:36.143 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:22:36.156 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:22:36.195 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:22:38.318 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:22:38.382 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2182.3166ms
2023-01-08 17:22:38.383 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:22:38.413 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 95
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:22:38.445 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 95
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:22:38.474 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2331.1109ms
2023-01-08 17:22:38.487 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 17:28:07.268 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:28:07.292 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:28:07.332 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:28:07.338 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:28:07.345 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:28:08.208 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:28:09.142 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 942.3907ms
2023-01-08 17:28:09.210 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:28:09.240 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:28:09.244 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 36.7631ms
2023-01-08 17:28:09.464 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 223.7874ms
2023-01-08 17:28:09.588 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:28:09.903 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 314.1426ms
2023-01-08 17:28:18.532 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:28:18.545 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:28:18.586 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:28:20.602 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2011.603ms
2023-01-08 17:28:20.603 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:28:20.658 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CommitTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.CommitTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.CommitTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 80
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:28:20.691 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CommitTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.CommitTransactionAsync(CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.CommitTransactionAsync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 80
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:28:20.716 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2184.0280ms
2023-01-08 17:28:20.725 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 17:40:03.638 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:40:03.656 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:40:03.671 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:40:03.675 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:40:03.681 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:40:04.615 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:40:05.516 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 904.3877ms
2023-01-08 17:40:05.587 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:40:05.589 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:40:05.613 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 24.7566ms
2023-01-08 17:40:05.696 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 108.4314ms
2023-01-08 17:40:05.834 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:40:06.041 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.0954ms
2023-01-08 17:40:16.438 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:40:16.449 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:40:16.486 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:40:18.538 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:40:18.580 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:40:18.631 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2139.2125ms
2023-01-08 17:40:18.632 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:40:18.660 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:40:18.691 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:40:18.716 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2277.8410ms
2023-01-08 17:40:18.726 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 17:56:46.596 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:56:46.619 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:56:46.637 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:56:46.647 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:56:46.653 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:56:47.320 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:56:48.589 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 1271.8822ms
2023-01-08 17:56:48.921 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:56:48.948 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 26.8248ms
2023-01-08 17:56:49.197 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:56:49.259 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.9400ms
2023-01-08 17:56:49.507 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:56:49.843 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 335.5009ms
2023-01-08 17:57:02.954 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:57:02.964 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:57:02.997 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:57:04.995 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:57:05.063 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2061.0198ms
2023-01-08 17:57:05.064 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:57:05.093 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 112
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:57:05.124 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 112
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:57:05.147 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2192.8338ms
2023-01-08 17:57:05.157 +01:00 [Error] An error occurred using the connection to database '"s20781"' on server '"db-mssql"'.
2023-01-08 17:57:33.196 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:57:33.218 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:57:33.234 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:57:33.239 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:57:33.241 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:57:34.549 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:57:35.437 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 891.8266ms
2023-01-08 17:57:35.702 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:57:35.726 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:57:35.743 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 16.6140ms
2023-01-08 17:57:35.847 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 145.1510ms
2023-01-08 17:57:35.965 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:57:36.260 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.6341ms
2023-01-08 17:57:47.396 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:57:47.407 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:57:47.440 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:57:49.626 +01:00 [Information] Executed DbCommand ("204"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Member] ([memberName], [memberNickname], [memberSurname], [oID])
OUTPUT INSERTED.[memberID]
VALUES (@p0, @p1, @p2, @p3);"
2023-01-08 17:57:49.994 +01:00 [Error] Failed executing DbCommand ("57"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Membership] ([memberID], [teamID], [MembershipDate])
VALUES (@p0, @p1, @p2);"
2023-01-08 17:57:50.041 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (1, 1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1156267a-ce90-4513-8ed2-00d7790282cb
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (1, 1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1156267a-ce90-4513-8ed2-00d7790282cb
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:57:50.177 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2731.5017ms
2023-01-08 17:57:50.179 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:57:50.259 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: A TransactionScope must be disposed on the same thread that it was created.
   at System.Transactions.TransactionScope.Dispose()
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:57:50.334 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A TransactionScope must be disposed on the same thread that it was created.
   at System.Transactions.TransactionScope.Dispose()
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:57:50.352 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2956.4577ms
2023-01-08 17:58:16.462 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:58:16.478 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:58:16.498 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:58:16.503 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:58:16.506 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:58:16.988 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:58:17.593 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 608.1352ms
2023-01-08 17:58:17.632 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:58:17.639 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.5333ms
2023-01-08 17:58:17.704 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:58:17.805 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.1271ms
2023-01-08 17:58:17.914 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:58:18.111 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.1217ms
2023-01-08 17:58:31.518 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:58:31.536 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:58:31.592 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:58:33.763 +01:00 [Information] Executed DbCommand ("121"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Member] ([memberName], [memberNickname], [memberSurname], [oID])
OUTPUT INSERTED.[memberID]
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO [Membership] ([memberID], [teamID], [MembershipDate])
VALUES (@p4, @p5, @p6);"
2023-01-08 17:58:33.939 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4375282a-4ba6-486f-af34-f89884582455
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4375282a-4ba6-486f-af34-f89884582455
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:58:34.031 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 2434.0357ms
2023-01-08 17:58:34.032 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:58:34.113 +01:00 [Error] This error ocurred while program was trying to make the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4375282a-4ba6-486f-af34-f89884582455
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:58:34.186 +01:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Membership'. Cannot insert duplicate key in object 'dbo.Membership'. The duplicate key value is (1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4375282a-4ba6-486f-af34-f89884582455
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:58:34.209 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 2691.7559ms
2023-01-08 17:59:33.667 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 17:59:33.676 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 17:59:33.686 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 17:59:33.688 +01:00 [Information] Hosting environment: "Development"
2023-01-08 17:59:33.690 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 17:59:34.606 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 17:59:35.679 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 1087.0954ms
2023-01-08 17:59:35.808 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 17:59:35.809 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 17:59:35.815 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 5.6862ms
2023-01-08 17:59:35.978 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 170.0284ms
2023-01-08 17:59:36.141 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 17:59:36.450 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 308.4725ms
2023-01-08 17:59:46.591 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 17:59:46.608 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:59:46.659 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 17:59:48.038 +01:00 [Error] An exception occurred in the database while saving changes for context type '"WebApplication1.Models.OrganDbContext"'."
""System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-01-08 17:59:48.121 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 1455.4194ms
2023-01-08 17:59:48.122 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 17:59:48.152 +01:00 [Error] This error ocurred while program was trying to make the request
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 112
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
2023-01-08 17:59:48.183 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'Membership.memberID' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebApplication1.Services.RepositoryWrapper.saveAync() in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Services\RepositoryWrapper.cs:line 117
   at WebApplication1.Controllers.MemberController.addWithTeam(MemberPut body, Int32 teamID) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Controllers\MemberController.cs:line 112
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Middlewares.ErrorLogMiddleware.Invoke(HttpContext context) in C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\Middlewares\ErrorLogMiddleware.cs:line 19
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-08 17:59:48.195 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 500 - text/plain;+charset=utf-8 1604.1572ms
2023-01-08 18:01:02.906 +01:00 [Information] Now listening on: "https://localhost:7206"
2023-01-08 18:01:02.921 +01:00 [Information] Now listening on: "http://localhost:5269"
2023-01-08 18:01:02.934 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2023-01-08 18:01:02.939 +01:00 [Information] Hosting environment: "Development"
2023-01-08 18:01:02.941 +01:00 [Information] Content root path: "C:\Users\Franczi\source\repos\WebApplication1\WebApplication1\"
2023-01-08 18:01:03.609 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/index.html - -
2023-01-08 18:01:04.461 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/index.html - - - 200 - text/html;charset=utf-8 859.8996ms
2023-01-08 18:01:04.505 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - -
2023-01-08 18:01:04.514 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 9.4328ms
2023-01-08 18:01:04.551 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/_vs/browserLink - -
2023-01-08 18:01:04.916 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 376.1530ms
2023-01-08 18:01:05.067 +01:00 [Information] Request starting HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - -
2023-01-08 18:01:05.288 +01:00 [Information] Request finished HTTP/2 GET https://localhost:7206/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 221.3458ms
2023-01-08 18:01:13.427 +01:00 [Information] Request starting HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114
2023-01-08 18:01:13.439 +01:00 [Information] Executing endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 18:01:13.476 +01:00 [Information] Route matched with "{action = \"addWithTeam\", controller = \"Member\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addWithTeam(WebApplication1.Models.DTO_s.MemberPut, Int32)" on controller "WebApplication1.Controllers.MemberController" ("WebApplication1").
2023-01-08 18:01:17.847 +01:00 [Information] Executed DbCommand ("119"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Member] ([memberName], [memberNickname], [memberSurname], [oID])
OUTPUT INSERTED.[memberID]
VALUES (@p0, @p1, @p2, @p3);"
2023-01-08 18:01:18.043 +01:00 [Information] Executed DbCommand ("78"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Membership] ([memberID], [teamID], [MembershipDate])
VALUES (@p0, @p1, @p2);"
2023-01-08 18:01:18.054 +01:00 [Information] Executing StatusCodeResult, setting HTTP status code 200
2023-01-08 18:01:18.059 +01:00 [Information] Executed action "WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)" in 4578.7043ms
2023-01-08 18:01:18.060 +01:00 [Information] Executed endpoint '"WebApplication1.Controllers.MemberController.addWithTeam (WebApplication1)"'
2023-01-08 18:01:18.078 +01:00 [Information] Request finished HTTP/2 POST https://localhost:7206/api/Member/1 application/json 114 - 200 0 - 4651.5177ms
